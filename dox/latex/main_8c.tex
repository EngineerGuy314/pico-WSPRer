\doxysection{C\+:/\+Users/serych/\+SVN/\+Bastleni/\+HAB/pico-\/\+WSPRer/main.c File Reference}
\hypertarget{main_8c}{}\label{main_8c}\index{C:/Users/serych/SVN/Bastleni/HAB/pico-\/WSPRer/main.c@{C:/Users/serych/SVN/Bastleni/HAB/pico-\/WSPRer/main.c}}
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include "{}pico/multicore.\+h"{}}\newline
{\ttfamily \#include "{}hf-\/oscillator/lib/assert.\+h"{}}\newline
{\ttfamily \#include "{}hardware/flash.\+h"{}}\newline
{\ttfamily \#include $<$defines.\+h$>$}\newline
{\ttfamily \#include $<$piodco.\+h$>$}\newline
{\ttfamily \#include $<$WSPRbeacon.\+h$>$}\newline
{\ttfamily \#include "{}debug/logutils.\+h"{}}\newline
{\ttfamily \#include $<$protos.\+h$>$}\newline
{\ttfamily \#include "{}pico/stdlib.\+h"{}}\newline
{\ttfamily \#include "{}hardware/gpio.\+h"{}}\newline
{\ttfamily \#include "{}hardware/adc.\+h"{}}\newline
{\ttfamily \#include "{}hardware/watchdog.\+h"{}}\newline
{\ttfamily \#include "{}hardware/uart.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8c_a5324a5c83a2074a7437c6f0faeac031e}{d\+\_\+force\+\_\+xmit\+\_\+for\+\_\+testing}}~\mbox{\hyperlink{defines_8h_a996bde01ecac342918f0a2c4e7ce7bd5}{NO}}
\item 
\#define \mbox{\hyperlink{main_8c_a0ce809cb17fb06c7373abc0ae56eb911}{GPS\+\_\+\+PPS\+\_\+\+PIN}}~2          /\texorpdfstring{$\ast$}{*} GPS time mark PIN. (labeled PPS on GPS module)\texorpdfstring{$\ast$}{*}/
\item 
\#define \mbox{\hyperlink{main_8c_a8d4057936307cead306e45fda0c6b981}{RFOUT\+\_\+\+PIN}}~6            /\texorpdfstring{$\ast$}{*} RF output PIN. (THE FOLLOWING PIN WILL ALSO BE RF, 180deg OUT OF PHASE!!!) \texorpdfstring{$\ast$}{*}/
\item 
\#define \mbox{\hyperlink{main_8c_a68947b1590f9a900eb3bccac24bb69f3}{GPS\+\_\+\+ENABLE\+\_\+\+PIN}}~5       /\texorpdfstring{$\ast$}{*} GPS\+\_\+\+ENABLE pin -\/ high to enable GPS (needs a MOSFET ie 2N7000 on low side drive \texorpdfstring{$\ast$}{*}/
\item 
\#define \mbox{\hyperlink{main_8c_a21df7978a7e635eaa5037d4c853cd15d}{FLASH\+\_\+\+TARGET\+\_\+\+OFFSET}}~(256 \texorpdfstring{$\ast$}{*} 1024)
\item 
\#define \mbox{\hyperlink{main_8c_aca8bfc4c6df26ff5c204368d355a97d2}{CONFIG\+\_\+\+LOCATOR4}}~"{}AA22\+AB"{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\item 
void \mbox{\hyperlink{main_8c_a7392bf1330f30af30dee26b3f0ac29b0}{print\+\_\+buf}} (const uint8\+\_\+t \texorpdfstring{$\ast$}{*}buf, size\+\_\+t len)
\item 
void \mbox{\hyperlink{main_8c_a1cd0ac559fb276d78fdba0dc0b6f944c}{read\+\_\+\+NVRAM}} (void)
\item 
void \mbox{\hyperlink{main_8c_aae241d4e645b81fce29ef421dca104cf}{check\+\_\+data\+\_\+validity}} (void)
\item 
void \mbox{\hyperlink{main_8c_a2197acd436dd50dc315aec635f97e2c3}{user\+\_\+interface}} (void)
\begin{DoxyCompactList}\small\item\em Function that implements simple user interface via UART. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a4271ca948bbd6d1cdc24a4bcc775ac27}{show\+\_\+values}} (void)
\begin{DoxyCompactList}\small\item\em Function that writes out the current set values of parameters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a7f9afff0be649c60b3b591ae7eb89383}{write\+\_\+\+NVRAM}} (void)
\begin{DoxyCompactList}\small\item\em Writes the user entered data into NVRAM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a45b2896ed990b3928bbdd95e88fdfa7e}{convert\+To\+Upper\+Case}} (char \texorpdfstring{$\ast$}{*}str)
\begin{DoxyCompactList}\small\item\em Converts string to upper case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_w_s_p_rbeacon_context}{WSPRbeacon\+Context}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{main_8c_a4626b8ce5c5479fb4b24799b0d2ffc2e}{p\+WSPR}}
\item 
char \mbox{\hyperlink{main_8c_a7affb02a4c8bb13050592ae98735934b}{\+\_\+callsign}} \mbox{[}7\mbox{]}
\item 
char \mbox{\hyperlink{main_8c_aa95cc581aa088ec4cec906a48aea0068}{\+\_\+id13}} \mbox{[}3\mbox{]}
\item 
char \mbox{\hyperlink{main_8c_aad5cde28d61601aa45fb0699621d61b4}{\+\_\+start\+\_\+minute}} \mbox{[}2\mbox{]}
\item 
char \mbox{\hyperlink{main_8c_a2ac18ce54d04b74d6909c1b9f4179ece}{\+\_\+lane}} \mbox{[}2\mbox{]}
\item 
char \mbox{\hyperlink{main_8c_ab8ee9885ddf82147f541baa82e2b495e}{\+\_\+suffix}} \mbox{[}2\mbox{]}
\item 
char \mbox{\hyperlink{main_8c_ad32dd29ea86f9f3d2e8c15d8785f6f7f}{\+\_\+verbosity}} \mbox{[}2\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{main_8c_aca8bfc4c6df26ff5c204368d355a97d2}\label{main_8c_aca8bfc4c6df26ff5c204368d355a97d2} 
\index{main.c@{main.c}!CONFIG\_LOCATOR4@{CONFIG\_LOCATOR4}}
\index{CONFIG\_LOCATOR4@{CONFIG\_LOCATOR4}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{CONFIG\_LOCATOR4}{CONFIG\_LOCATOR4}}
{\footnotesize\ttfamily \#define CONFIG\+\_\+\+LOCATOR4~"{}AA22\+AB"{}}

\Hypertarget{main_8c_a5324a5c83a2074a7437c6f0faeac031e}\label{main_8c_a5324a5c83a2074a7437c6f0faeac031e} 
\index{main.c@{main.c}!d\_force\_xmit\_for\_testing@{d\_force\_xmit\_for\_testing}}
\index{d\_force\_xmit\_for\_testing@{d\_force\_xmit\_for\_testing}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{d\_force\_xmit\_for\_testing}{d\_force\_xmit\_for\_testing}}
{\footnotesize\ttfamily \#define d\+\_\+force\+\_\+xmit\+\_\+for\+\_\+testing~\mbox{\hyperlink{defines_8h_a996bde01ecac342918f0a2c4e7ce7bd5}{NO}}}

\Hypertarget{main_8c_a21df7978a7e635eaa5037d4c853cd15d}\label{main_8c_a21df7978a7e635eaa5037d4c853cd15d} 
\index{main.c@{main.c}!FLASH\_TARGET\_OFFSET@{FLASH\_TARGET\_OFFSET}}
\index{FLASH\_TARGET\_OFFSET@{FLASH\_TARGET\_OFFSET}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{FLASH\_TARGET\_OFFSET}{FLASH\_TARGET\_OFFSET}}
{\footnotesize\ttfamily \#define FLASH\+\_\+\+TARGET\+\_\+\+OFFSET~(256 \texorpdfstring{$\ast$}{*} 1024)}

\Hypertarget{main_8c_a68947b1590f9a900eb3bccac24bb69f3}\label{main_8c_a68947b1590f9a900eb3bccac24bb69f3} 
\index{main.c@{main.c}!GPS\_ENABLE\_PIN@{GPS\_ENABLE\_PIN}}
\index{GPS\_ENABLE\_PIN@{GPS\_ENABLE\_PIN}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{GPS\_ENABLE\_PIN}{GPS\_ENABLE\_PIN}}
{\footnotesize\ttfamily \#define GPS\+\_\+\+ENABLE\+\_\+\+PIN~5       /\texorpdfstring{$\ast$}{*} GPS\+\_\+\+ENABLE pin -\/ high to enable GPS (needs a MOSFET ie 2N7000 on low side drive \texorpdfstring{$\ast$}{*}/}

\Hypertarget{main_8c_a0ce809cb17fb06c7373abc0ae56eb911}\label{main_8c_a0ce809cb17fb06c7373abc0ae56eb911} 
\index{main.c@{main.c}!GPS\_PPS\_PIN@{GPS\_PPS\_PIN}}
\index{GPS\_PPS\_PIN@{GPS\_PPS\_PIN}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{GPS\_PPS\_PIN}{GPS\_PPS\_PIN}}
{\footnotesize\ttfamily \#define GPS\+\_\+\+PPS\+\_\+\+PIN~2          /\texorpdfstring{$\ast$}{*} GPS time mark PIN. (labeled PPS on GPS module)\texorpdfstring{$\ast$}{*}/}

\Hypertarget{main_8c_a8d4057936307cead306e45fda0c6b981}\label{main_8c_a8d4057936307cead306e45fda0c6b981} 
\index{main.c@{main.c}!RFOUT\_PIN@{RFOUT\_PIN}}
\index{RFOUT\_PIN@{RFOUT\_PIN}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{RFOUT\_PIN}{RFOUT\_PIN}}
{\footnotesize\ttfamily \#define RFOUT\+\_\+\+PIN~6            /\texorpdfstring{$\ast$}{*} RF output PIN. (THE FOLLOWING PIN WILL ALSO BE RF, 180deg OUT OF PHASE!!!) \texorpdfstring{$\ast$}{*}/}



\doxysubsection{Function Documentation}
\Hypertarget{main_8c_aae241d4e645b81fce29ef421dca104cf}\label{main_8c_aae241d4e645b81fce29ef421dca104cf} 
\index{main.c@{main.c}!check\_data\_validity@{check\_data\_validity}}
\index{check\_data\_validity@{check\_data\_validity}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{check\_data\_validity()}{check\_data\_validity()}}
{\footnotesize\ttfamily void check\+\_\+data\+\_\+validity (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\Hypertarget{main_8c_a45b2896ed990b3928bbdd95e88fdfa7e}\label{main_8c_a45b2896ed990b3928bbdd95e88fdfa7e} 
\index{main.c@{main.c}!convertToUpperCase@{convertToUpperCase}}
\index{convertToUpperCase@{convertToUpperCase}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{convertToUpperCase()}{convertToUpperCase()}}
{\footnotesize\ttfamily void convert\+To\+Upper\+Case (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{str }\end{DoxyParamCaption})}



Converts string to upper case. 


\begin{DoxyParams}{Parameters}
{\em str} & string to convert \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No return value, string is converted directly in the parameter \texorpdfstring{$\ast$}{*}str ~\newline
 
\end{DoxyReturn}
\Hypertarget{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

the Callsign.

\texorpdfstring{$<$}{<} the default QTH locator if GPS isn\textquotesingle{}t used.

\texorpdfstring{$<$}{<} Tx power, dbm.

\texorpdfstring{$<$}{<} the Pio\+DCO object.

\texorpdfstring{$<$}{<} the carrier freq. shift relative to dial freq.

\texorpdfstring{$<$}{<} RF output GPIO pin.

\texorpdfstring{$<$}{<} convert ASCI digits to ints ~\newline


\texorpdfstring{$<$}{<} convert ASCI digit to int ~\newline


\texorpdfstring{$<$}{<} convert ASCI digit to int (value 253 if dash was entered)\Hypertarget{main_8c_a7392bf1330f30af30dee26b3f0ac29b0}\label{main_8c_a7392bf1330f30af30dee26b3f0ac29b0} 
\index{main.c@{main.c}!print\_buf@{print\_buf}}
\index{print\_buf@{print\_buf}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{print\_buf()}{print\_buf()}}
{\footnotesize\ttfamily void print\+\_\+buf (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buf,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}

\Hypertarget{main_8c_a1cd0ac559fb276d78fdba0dc0b6f944c}\label{main_8c_a1cd0ac559fb276d78fdba0dc0b6f944c} 
\index{main.c@{main.c}!read\_NVRAM@{read\_NVRAM}}
\index{read\_NVRAM@{read\_NVRAM}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{read\_NVRAM()}{read\_NVRAM()}}
{\footnotesize\ttfamily void read\+\_\+\+NVRAM (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\Hypertarget{main_8c_a4271ca948bbd6d1cdc24a4bcc775ac27}\label{main_8c_a4271ca948bbd6d1cdc24a4bcc775ac27} 
\index{main.c@{main.c}!show\_values@{show\_values}}
\index{show\_values@{show\_values}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{show\_values()}{show\_values()}}
{\footnotesize\ttfamily void show\+\_\+values (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function that writes out the current set values of parameters. 

\Hypertarget{main_8c_a2197acd436dd50dc315aec635f97e2c3}\label{main_8c_a2197acd436dd50dc315aec635f97e2c3} 
\index{main.c@{main.c}!user\_interface@{user\_interface}}
\index{user\_interface@{user\_interface}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{user\_interface()}{user\_interface()}}
{\footnotesize\ttfamily void user\+\_\+interface (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function that implements simple user interface via UART. 

\Hypertarget{main_8c_a7f9afff0be649c60b3b591ae7eb89383}\label{main_8c_a7f9afff0be649c60b3b591ae7eb89383} 
\index{main.c@{main.c}!write\_NVRAM@{write\_NVRAM}}
\index{write\_NVRAM@{write\_NVRAM}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{write\_NVRAM()}{write\_NVRAM()}}
{\footnotesize\ttfamily void write\+\_\+\+NVRAM (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Writes the user entered data into NVRAM. 



\doxysubsection{Variable Documentation}
\Hypertarget{main_8c_a7affb02a4c8bb13050592ae98735934b}\label{main_8c_a7affb02a4c8bb13050592ae98735934b} 
\index{main.c@{main.c}!\_callsign@{\_callsign}}
\index{\_callsign@{\_callsign}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_callsign}{\_callsign}}
{\footnotesize\ttfamily char \+\_\+callsign\mbox{[}7\mbox{]}}

\Hypertarget{main_8c_aa95cc581aa088ec4cec906a48aea0068}\label{main_8c_aa95cc581aa088ec4cec906a48aea0068} 
\index{main.c@{main.c}!\_id13@{\_id13}}
\index{\_id13@{\_id13}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_id13}{\_id13}}
{\footnotesize\ttfamily char \+\_\+id13\mbox{[}3\mbox{]}}

\Hypertarget{main_8c_a2ac18ce54d04b74d6909c1b9f4179ece}\label{main_8c_a2ac18ce54d04b74d6909c1b9f4179ece} 
\index{main.c@{main.c}!\_lane@{\_lane}}
\index{\_lane@{\_lane}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_lane}{\_lane}}
{\footnotesize\ttfamily char \+\_\+lane\mbox{[}2\mbox{]}}

\Hypertarget{main_8c_aad5cde28d61601aa45fb0699621d61b4}\label{main_8c_aad5cde28d61601aa45fb0699621d61b4} 
\index{main.c@{main.c}!\_start\_minute@{\_start\_minute}}
\index{\_start\_minute@{\_start\_minute}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_start\_minute}{\_start\_minute}}
{\footnotesize\ttfamily char \+\_\+start\+\_\+minute\mbox{[}2\mbox{]}}

\Hypertarget{main_8c_ab8ee9885ddf82147f541baa82e2b495e}\label{main_8c_ab8ee9885ddf82147f541baa82e2b495e} 
\index{main.c@{main.c}!\_suffix@{\_suffix}}
\index{\_suffix@{\_suffix}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_suffix}{\_suffix}}
{\footnotesize\ttfamily char \+\_\+suffix\mbox{[}2\mbox{]}}

\Hypertarget{main_8c_ad32dd29ea86f9f3d2e8c15d8785f6f7f}\label{main_8c_ad32dd29ea86f9f3d2e8c15d8785f6f7f} 
\index{main.c@{main.c}!\_verbosity@{\_verbosity}}
\index{\_verbosity@{\_verbosity}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{\_verbosity}{\_verbosity}}
{\footnotesize\ttfamily char \+\_\+verbosity\mbox{[}2\mbox{]}}

\Hypertarget{main_8c_a4626b8ce5c5479fb4b24799b0d2ffc2e}\label{main_8c_a4626b8ce5c5479fb4b24799b0d2ffc2e} 
\index{main.c@{main.c}!pWSPR@{pWSPR}}
\index{pWSPR@{pWSPR}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{pWSPR}{pWSPR}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_w_s_p_rbeacon_context}{WSPRbeacon\+Context}}\texorpdfstring{$\ast$}{*} p\+WSPR}

